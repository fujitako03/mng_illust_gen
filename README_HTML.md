# 🎨 イラスト生成アプリ (HTML版)

人物画像を分析してイラストを生成する単一HTMLファイルのWebアプリケーションです。

## ✨ 特徴

### 🔄 **Flask版から大幅改善**
- **サーバー不要**: 静的HTMLファイルのみで動作
- **単一ファイル**: `app.html` 一つで完結
- **高速化**: ファイルI/O削除、インメモリ処理
- **簡単デプロイ**: GitHub Pages、Netlify等で即座に公開可能

### 🚀 **技術的改善**
- **YAML廃止**: JavaScriptオブジェクトでインメモリ処理
- **直接API呼び出し**: OpenAI APIを直接呼び出し
- **ゼロ依存**: 外部ライブラリ不要
- **レスポンシブ**: モバイル対応

## 🎯 使用方法

### 1. セットアップ
1. `app.html` をダウンロード
2. ブラウザで開く
3. OpenAI API Keyを入力

### 2. イラスト生成手順
1. **API Key入力**: OpenAI API Keyを入力フィールドに設定
2. **画像アップロード**: 人物写真をドラッグ&ドロップまたはクリック選択
3. **画像解析**: 「📤 画像解析」ボタンをクリック
4. **イラスト生成**: 「🎨 イラスト生成」ボタンをクリック

### 3. サポート形式
- **画像**: PNG, JPG, JPEG, GIF (最大16MB)
- **ブラウザ**: Chrome, Firefox, Safari, Edge (ES6対応)

## 🔑 API Key設定

### OpenAI API Keyが必要
1. [OpenAI Platform](https://platform.openai.com/api-keys)でAPI Keyを取得
2. アプリの上部入力フィールドに `sk-...` で始まるKeyを入力

### セキュリティ
- API Keyはブラウザのメモリにのみ保存
- ページ更新で削除される
- 外部サーバーには送信されない

## 🌐 デプロイ方法

### GitHub Pages
```bash
# GitHubリポジトリに app.html をプッシュ
git add app.html
git commit -m "Add HTML version"
git push

# Settings > Pages で公開
```

### Netlify
1. `app.html` をNetlifyにドラッグ&ドロップ
2. 即座に公開URL取得

### Vercel
```bash
# app.html を public/index.html にリネーム
mv app.html public/index.html
vercel deploy
```

## 🔧 技術仕様

### アーキテクチャ
```
ブラウザ (app.html)
├── HTML構造
├── CSS (組み込み)
└── JavaScript (組み込み)
    ├── IllustrationStyleGuide クラス
    ├── OpenAI Chat Completions API
    ├── OpenAI Images API
    └── インメモリテンプレート処理
```

### API使用量
- **画像解析**: GPT-4o (1回につき約1,000トークン)
- **画像生成**: gpt-image-1 (1回につき1画像)

### みん銀スタイル仕様
```javascript
固定特徴: {
  - 線画: 均一な細線、滑らかなテクスチャ
  - 色彩: モノクロ (白黒のみ)
  - 構図: 中央配置、バストアップ、白背景
  - 顔: 斜め四分の一、突出した鼻、小さな点の目
  - 髪: 雲のような形状
}

可変特徴: {
  - 体型、身長、ポーズ
  - 服装 (上下、パターン、袖)
  - アクセサリー (帽子、バッグ、その他)
  - 髪型、眼鏡、ヒゲ
}
```

## 🆚 Flask版との比較

| 項目 | Flask版 | HTML版 |
|------|---------|--------|
| **ファイル数** | 25+ | 1 |
| **サーバー** | 必要 | 不要 |
| **デプロイ** | Heroku等 | 静的ホスティング |
| **処理** | ファイルI/O | インメモリ |
| **依存関係** | Python, Flask等 | なし |
| **起動時間** | サーバー起動 | 即座 |
| **同時ユーザー** | サーバー制限 | 制限なし |

## 🐛 トラブルシューティング

### よくある問題

**API Keyエラー**
```
解決: OpenAI API Keyが正しく設定されているか確認
```

**CORS エラー**
```
解決: ローカルファイルではなくHTTPS環境で実行
```

**画像アップロードエラー**
```
解決: ファイルサイズ16MB以下、対応形式確認
```

**画像生成失敗**
```
解決: API利用制限、支払い設定確認
```

## 📊 パフォーマンス

### 処理時間 (目安)
- **画像解析**: 5-10秒
- **イラスト生成**: 10-20秒
- **合計**: 15-30秒

### 最適化点
- ファイルI/O削除 → **50%高速化**
- サーバーレイテンシ削除 → **即座起動**
- ブラウザキャッシュ活用 → **リロード高速化**

## 🔮 今後の拡張可能性

- 複数スタイル対応
- バッチ処理機能
- 履歴保存機能
- スタイルカスタマイズ
- プリセット機能

## 📄 ライセンス

MIT License

## 🤝 貢献

プルリクエスト、イシューレポートを歓迎します。

---

**🎨 シンプルで高速なイラスト生成をお楽しみください！**